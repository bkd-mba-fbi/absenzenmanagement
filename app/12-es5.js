!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,c=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,c=l}finally{try{r||null==o.return||o.return()}finally{if(i)throw c}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{IptF:function(t,r,c){"use strict";c.r(r),c.d(r,"MyProfileModule",(function(){return Ae}));var a,o,l=c("PCNd"),s=c("tyNb"),f=c("2Vo4"),d=c("eIep"),p=c("UXun"),b=c("/Td9"),u=c("fXoL"),m=((o=function(){function e(t){var r=this;n(this,e),this.profileService=t,this.reset$=new f.a(void 0),this.profile$=this.reset$.pipe(Object(d.a)((function(){return r.profileService.getMyProfile()})),Object(p.a)(1)),this.loading$=this.profileService.loading$}return i(e,[{key:"reset",value:function(){this.reset$.next()}}]),e}()).\u0275fac=function(e){return new(e||o)(u.Xb(b.a))},o.\u0275prov=u.Gb({token:o,factory:o.\u0275fac}),o),g=((a=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=u.Eb({type:a,selectors:[["erz-my-profile"]],features:[u.wb([m])],decls:1,vars:0,template:function(e,t){1&e&&u.Lb(0,"router-outlet")},directives:[s.i],styles:[""],changeDetection:0}),a),v=c("EOpz"),y=c("ofXK"),h=c("jtHE"),O=c("itXk"),P=c("lJxs"),x=(c("vsAb"),c("Ug8t")),z=c("PT0D");function j(e,t){if(1&e&&(u.Pb(0,"span"),u.Ec(1),u.Ob()),2&e){var n=u.dc(2);u.xb(1),u.Gc("(",n.student.Gender,")")}}function I(e,t){if(1&e&&(u.Pb(0,"a",10),u.Pb(1,"i",11),u.Ec(2,"description"),u.Ob(),u.Ob()),2&e){var n=u.dc().erzLet;u.jc("href",n,u.wc)}}function C(e,t){if(1&e&&(u.Nb(0),u.Cc(1,I,3,1,"a",9),u.Mb()),2&e){var n=t.erzLet;u.xb(1),u.jc("ngIf",n)}}function E(e,t){if(1&e&&(u.Pb(0,"div",2),u.Pb(1,"div",3),u.Lb(2,"erz-avatar",4),u.Pb(3,"div",5),u.Ec(4),u.Cc(5,j,2,1,"span",6),u.Pb(6,"div",7),u.Ec(7),u.ec(8,"date"),u.Ob(),u.Ob(),u.Ob(),u.Cc(9,C,2,1,"ng-container",8),u.ec(10,"async"),u.Ob()),2&e){var n=u.dc();u.xb(2),u.jc("studentId",n.student.Id),u.xb(2),u.Ic(" ",n.student.LastName," ",n.student.FirstName," ",n.student.MiddleName," "),u.xb(1),u.jc("ngIf",n.student.Gender),u.xb(2),u.Fc(u.gc(8,7,n.student.Birthdate,"dd.MM.yyyy")),u.xb(2),u.jc("erzLet",u.fc(10,10,n.reportUrl$))}}function w(e,t){if(1&e&&(u.Pb(0,"div",12),u.Ec(1),u.Ob()),2&e){var n=u.dc();u.xb(1),u.Fc(n.student.Email)}}var L,k,$,S=((L=function(){function t(r){var i=this;n(this,t),this.reportsService=r,this.studentId$=new h.a(1),this.reportUrl$=Object(O.a)([this.reportsService.personMasterDataAvailability$,this.studentId$]).pipe(Object(P.a)((function(t){var n=e(t,2),r=n[0],c=n[1];return r&&c?i.reportsService.getPersonMasterDataUrl(c):null})))}return i(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var t;e.student&&this.studentId$.next((null===(t=e.student.currentValue)||void 0===t?void 0:t.Id)||null)}}]),t}()).\u0275fac=function(e){return new(e||L)(u.Kb(x.a))},L.\u0275cmp=u.Eb({type:L,selectors:[["erz-my-profile-header"]],inputs:{student:"student"},features:[u.vb],decls:2,vars:2,consts:[["class","avatar-person",4,"ngIf"],["class","email",4,"ngIf"],[1,"avatar-person"],[1,"d-flex"],[1,"mr-3","avatar","large",3,"studentId"],[1,"person"],[4,"ngIf"],[1,"birthdate"],[4,"erzLet"],["class","report btn btn-primary mr-2","target","_blank",3,"href",4,"ngIf"],["target","_blank",1,"report","btn","btn-primary","mr-2",3,"href"],[1,"material-icons"],[1,"email"]],template:function(e,t){1&e&&(u.Cc(0,E,11,12,"div",0),u.Cc(1,w,2,1,"div",1)),2&e&&(u.jc("ngIf",t.student),u.xb(1),u.jc("ngIf",t.student))},directives:[y.m,z.a,v.a],pipes:[y.e,y.b],styles:[".avatar-person[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:1.5rem}.person[_ngcontent-%COMP%]{align-self:center}.email[_ngcontent-%COMP%]{padding:1.5rem 0 0 1.5rem}.report[_ngcontent-%COMP%]{align-self:flex-start;line-height:1;font-size:2.2rem}"],changeDetection:0}),L),G=c("1kSV"),F=c("sYmb"),M=((k=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=u.Eb({type:k,selectors:[["erz-my-profile-entry"]],inputs:{label:"label",value:"value"},decls:6,vars:4,consts:[[1,"row"],[1,"col-md-6"]],template:function(e,t){1&e&&(u.Pb(0,"dl",0),u.Pb(1,"dt",1),u.Ec(2),u.ec(3,"translate"),u.Ob(),u.Pb(4,"dd",1),u.Ec(5),u.Ob(),u.Ob()),2&e&&(u.xb(2),u.Fc(u.fc(3,2,t.label)),u.xb(3),u.Fc(t.value))},pipes:[F.c],styles:["dl[_ngcontent-%COMP%]{padding:0 1.5rem}dt[_ngcontent-%COMP%]{font-weight:lighter;color:#adb5bd}"],changeDetection:0}),k),A=c("4vw6"),N=c("mOco"),_=(($=function(){function e(){n(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||$)},$.\u0275cmp=u.Eb({type:$,selectors:[["erz-my-profile-address"]],inputs:{address:"address"},decls:2,vars:1,template:function(e,t){1&e&&(u.Pb(0,"address"),u.Ec(1),u.Ob()),2&e&&(u.xb(1),u.Fc(t.address))},styles:["[_nghost-%COMP%]{padding:1.5rem}address[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0}),$),D=c("BYMW"),K=c("87Sz"),H=c("4Kj8");function B(e,t){if(1&e&&u.Lb(0,"erz-my-profile-entry",23),2&e){var n=u.dc(3).erzLet;u.kc("value",n.profile.student.SocialSecurityNumber)}}function Q(e,t){if(1&e&&u.Lb(0,"erz-my-profile-entry",24),2&e){var n=u.dc(3).erzLet;u.kc("value",n.profile.student.HomeTown||n.profile.student.Nationality)}}function T(e,t){if(1&e&&u.Lb(0,"erz-my-profile-entry",25),2&e){var n=u.dc(3).erzLet;u.kc("value",n.profile.student.NativeLanguage)}}function U(e,t){if(1&e&&u.Lb(0,"erz-my-profile-entry",26),2&e){var n=u.dc(3).erzLet;u.kc("value",n.profile.stayPermitValue)}}function V(e,t){if(1&e&&(u.Lb(0,"erz-my-profile-entry",27),u.ec(1,"date")),2&e){var n=u.dc(3).erzLet;u.kc("value",u.gc(1,1,n.profile.student.StayPermitExpiry,"mediumDate"))}}function X(e,t){if(1&e){var n=u.Qb();u.Pb(0,"erz-student-profile-entry-header",28),u.bc("click",(function(){return u.uc(n),u.dc(),u.tc(8).toggle("student-address")})),u.Ec(1),u.ec(2,"translate"),u.Ob()}2&e&&(u.jc("opened",t.opened),u.xb(1),u.Gc(" ",u.fc(2,2,"shared.profile.student-address")," "))}function J(e,t){if(1&e&&(u.Pb(0,"div",29),u.Pb(1,"a",30),u.Pb(2,"i",31),u.Ec(3,"edit"),u.Ob(),u.Ob(),u.Lb(4,"erz-student-profile-address",32),u.Ob()),2&e){var n=u.dc(3).erzLet;u.xb(4),u.jc("student",n.profile.student)}}function R(e,t){if(1&e){var n=u.Qb();u.Pb(0,"erz-student-profile-entry-header",28),u.bc("click",(function(){return u.uc(n),u.dc(2),u.tc(8).toggle("correspondence-address")})),u.Ec(1),u.ec(2,"translate"),u.Ob()}2&e&&(u.jc("opened",t.opened),u.xb(1),u.Gc(" ",u.fc(2,2,"shared.profile.correspondence-address")," "))}function Y(e,t){if(1&e&&u.Lb(0,"erz-my-profile-address",34),2&e){var n=u.dc(4).erzLet;u.jc("address",n.profile.student.CorrespondenceAddress)}}function W(e,t){1&e&&(u.Pb(0,"ngb-panel",33),u.Cc(1,R,3,4,"ng-template",17),u.Cc(2,Y,1,1,"ng-template",18),u.Ob())}function Z(e,t){if(1&e){var n=u.Qb();u.Pb(0,"erz-student-profile-entry-header",28),u.bc("click",(function(){return u.uc(n),u.dc(2),u.tc(8).toggle("billing-address")})),u.Ec(1),u.ec(2,"translate"),u.Ob()}2&e&&(u.jc("opened",t.opened),u.xb(1),u.Gc(" ",u.fc(2,2,"shared.profile.billing-address")," "))}function q(e,t){if(1&e&&u.Lb(0,"erz-my-profile-address",34),2&e){var n=u.dc(4).erzLet;u.jc("address",n.profile.student.BillingAddress)}}function ee(e,t){1&e&&(u.Pb(0,"ngb-panel",35),u.Cc(1,Z,3,4,"ng-template",17),u.Cc(2,q,1,1,"ng-template",18),u.Ob())}function te(e,t){if(1&e){var n=u.Qb();u.Pb(0,"erz-student-profile-entry-header",28),u.bc("click",(function(){return u.uc(n),u.dc(2),u.tc(8).toggle("legal-representatives")})),u.Ec(1),u.ec(2,"translate"),u.Ob()}2&e&&(u.jc("opened",t.opened),u.xb(1),u.Gc(" ",u.fc(2,2,"shared.profile.legal-representation")," "))}function ne(e,t){1&e&&u.Lb(0,"erz-student-profile-legal-representative",38),2&e&&u.jc("person",t.$implicit)}function re(e,t){if(1&e&&u.Cc(0,ne,1,1,"erz-student-profile-legal-representative",37),2&e){var n=u.dc(4).erzLet;u.jc("ngForOf",n.profile.legalRepresentativePersons)}}function ie(e,t){1&e&&(u.Pb(0,"ngb-panel",36),u.Cc(1,te,3,4,"ng-template",17),u.Cc(2,re,1,1,"ng-template",18),u.Ob())}function ce(e,t){if(1&e&&(u.Nb(0),u.Ec(1),u.Mb()),2&e){var n=u.dc(2).index;u.xb(1),u.Fc(n+1)}}function ae(e,t){if(1&e){var n=u.Qb();u.Pb(0,"erz-student-profile-entry-header",28),u.bc("click",(function(){u.uc(n);var e=u.dc().index;return u.dc(),u.tc(8).toggle("apprenticeship-company-"+e)})),u.Ec(1),u.ec(2,"translate"),u.Cc(3,ce,2,1,"ng-container",40),u.Ob()}if(2&e){var r=t.opened,i=u.dc(4).erzLet;u.jc("opened",r),u.xb(1),u.Gc(" ",u.fc(2,3,"shared.profile.apprenticeship-company")," "),u.xb(2),u.jc("ngIf",i.profile.apprenticeshipCompanies.length>1)}}function oe(e,t){if(1&e&&u.Lb(0,"erz-student-profile-apprenticeship-company",41),2&e){var n=u.dc().$implicit;u.jc("company",n)}}function le(e,t){1&e&&(u.Pb(0,"ngb-panel",39),u.Cc(1,ae,4,5,"ng-template",17),u.Cc(2,oe,1,1,"ng-template",18),u.Ob()),2&e&&u.jc("id","apprenticeship-company-"+t.index)}function se(e,t){if(1&e&&(u.Pb(0,"div",7),u.Pb(1,"div",8),u.Cc(2,B,1,1,"erz-my-profile-entry",9),u.Cc(3,Q,1,1,"erz-my-profile-entry",10),u.Cc(4,T,1,1,"erz-my-profile-entry",11),u.Cc(5,U,1,1,"erz-my-profile-entry",12),u.Cc(6,V,2,4,"erz-my-profile-entry",13),u.Ob(),u.Pb(7,"ngb-accordion",14,15),u.Pb(9,"ngb-panel",16),u.Cc(10,X,3,4,"ng-template",17),u.Cc(11,J,5,1,"ng-template",18),u.Ob(),u.Cc(12,W,3,0,"ngb-panel",19),u.Cc(13,ee,3,0,"ngb-panel",20),u.Cc(14,ie,3,0,"ngb-panel",21),u.Cc(15,le,3,1,"ngb-panel",22),u.Ob(),u.Ob()),2&e){var n=u.dc(2).erzLet;u.xb(2),u.jc("ngIf",n.profile.student.SocialSecurityNumber),u.xb(1),u.jc("ngIf",n.profile.student.HomeTown||n.profile.student.Nationality),u.xb(1),u.jc("ngIf",n.profile.student.NativeLanguage),u.xb(1),u.jc("ngIf",n.profile.stayPermitValue),u.xb(1),u.jc("ngIf",n.profile.student.StayPermitExpiry),u.xb(6),u.jc("ngIf",n.profile.student.CorrespondenceAddress),u.xb(1),u.jc("ngIf",n.profile.student.BillingAddress),u.xb(1),u.jc("ngIf",n.profile.legalRepresentativePersons.length>0),u.xb(1),u.jc("ngForOf",n.profile.apprenticeshipCompanies)}}function fe(e,t){1&e&&(u.Pb(0,"p"),u.Ec(1),u.ec(2,"translate"),u.Ob()),2&e&&(u.xb(1),u.Fc(u.fc(2,1,"shared.profile.no-profile")))}function de(e,t){if(1&e&&(u.Nb(0),u.Lb(1,"erz-my-profile-header",4),u.Cc(2,se,16,9,"div",5),u.Cc(3,fe,3,3,"ng-template",null,6,u.Dc),u.Mb()),2&e){var n=u.tc(4),r=u.dc().erzLet;u.xb(1),u.jc("student",r.profile&&r.profile.student),u.xb(1),u.jc("ngIf",r.profile)("ngIfElse",n)}}function pe(e,t){1&e&&u.Lb(0,"erz-spinner")}function be(e,t){if(1&e&&(u.Pb(0,"div",1),u.Cc(1,de,5,3,"ng-container",2),u.ec(2,"async"),u.Cc(3,pe,1,0,"ng-template",null,3,u.Dc),u.Ob()),2&e){var n=u.tc(4),r=u.dc();u.xb(1),u.jc("ngIf",!u.fc(2,2,r.profileService.loading$))("ngIfElse",n)}}var ue,me=function(e){return{profile:e}},ge=((ue=function(){function e(t){n(this,e),this.profileService=t}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ue)(u.Kb(m))},ue.\u0275cmp=u.Eb({type:ue,selectors:[["erz-my-profile-show"]],decls:2,vars:5,consts:[["class","erz-container erz-container-limited erz-container-padding-y erz-container-padding-x-responsive",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y","erz-container-padding-x-responsive"],[4,"ngIf","ngIfElse"],["loading",""],[3,"student"],["class","profile-content",4,"ngIf","ngIfElse"],["noProfile",""],[1,"profile-content"],[1,"profile-entries","pt-3"],["label","my-profile.show.social-security-number",3,"value",4,"ngIf"],["label","my-profile.show.hometown-nationality",3,"value",4,"ngIf"],["label","my-profile.show.native-language",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit",3,"value",4,"ngIf"],["label","my-profile.show.stay-permit-expiry",3,"value",4,"ngIf"],["ngb-accordion",""],["acc","ngbAccordion"],["id","student-address"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","correspondence-address",4,"ngIf"],["id","billing-address",4,"ngIf"],["id","legal-representatives",4,"ngIf"],[3,"id",4,"ngFor","ngForOf"],["label","my-profile.show.social-security-number",3,"value"],["label","my-profile.show.hometown-nationality",3,"value"],["label","my-profile.show.native-language",3,"value"],["label","my-profile.show.stay-permit",3,"value"],["label","my-profile.show.stay-permit-expiry",3,"value"],[3,"opened","click"],[1,"clearfix"],["routerLink","edit","aria-label","edit",1,"btn","btn-primary","float-right","mr-2"],[1,"material-icons"],["emailProperty","Email2",1,"profile-entry",3,"student"],["id","correspondence-address"],[1,"profile-entry",3,"address"],["id","billing-address"],["id","legal-representatives"],["class","profile-entry",3,"person",4,"ngFor","ngForOf"],[1,"profile-entry",3,"person"],[3,"id"],[4,"ngIf"],[1,"profile-entry",3,"company"]],template:function(e,t){1&e&&(u.Cc(0,be,5,4,"div",0),u.ec(1,"async")),2&e&&u.jc("erzLet",u.nc(3,me,u.fc(1,1,t.profileService.profile$)))},directives:[v.a,y.m,S,G.a,G.m,G.o,G.n,y.l,M,A.a,s.g,N.a,_,D.a,K.a,H.a],pipes:[y.b,y.e,F.c],styles:[".profile-content[_ngcontent-%COMP%]{padding-top:1.5rem}.profile-entry[_ngcontent-%COMP%]{display:block;padding:0 1.5rem}.profile-entries[_ngcontent-%COMP%]:not(:empty){border-top:1px solid #e9ecef}"],changeDetection:0}),ue),ve=c("3Pt+"),ye=c("wO+i"),he=c("IzEk"),Oe=c("nYR2"),Pe=c("xHFS"),xe=c("A6ef"),ze=c("5eHb");function je(e,t){if(1&e&&(u.Pb(0,"div"),u.Ec(1),u.Ob()),2&e){var n=u.dc(2).erzLet;u.xb(1),u.Gc(" ",n.student.AddressLine2," ")}}function Ie(e,t){if(1&e&&(u.Pb(0,"div",21),u.Ec(1),u.ec(2,"translate"),u.Ob()),2&e){var n=t.$implicit;u.xb(1),u.Gc(" ",u.gc(2,1,"global.validation-errors."+n.error,n.params)," ")}}function Ce(e,t){if(1&e&&(u.Pb(0,"div",22),u.Ec(1),u.ec(2,"translate"),u.Ob()),2&e){var n=t.$implicit;u.xb(1),u.Gc(" ",u.gc(2,1,"global.validation-errors."+n.error,n.params)," ")}}function Ee(e,t){1&e&&(u.Pb(0,"div",23),u.Pb(1,"span",24),u.Ec(2,"Loading..."),u.Ob(),u.Ob())}function we(e,t){if(1&e){var n=u.Qb();u.Pb(0,"form",3),u.bc("ngSubmit",(function(){return u.uc(n),u.dc(2).onSubmit()})),u.Pb(1,"p"),u.Ec(2),u.ec(3,"translate"),u.Ob(),u.Pb(4,"address",4),u.Pb(5,"div"),u.Ec(6),u.Ob(),u.Cc(7,je,2,1,"div",5),u.Pb(8,"div"),u.Ec(9),u.Ob(),u.Ob(),u.Cc(10,Ie,3,4,"div",6),u.ec(11,"async"),u.Pb(12,"div",7),u.Pb(13,"label",8),u.Ec(14),u.ec(15,"translate"),u.Ob(),u.Lb(16,"input",9),u.Ob(),u.Pb(17,"div",7),u.Pb(18,"label",10),u.Ec(19),u.ec(20,"translate"),u.Ob(),u.Lb(21,"input",11),u.Pb(22,"small",12),u.Ec(23),u.ec(24,"translate"),u.Ob(),u.Ob(),u.Pb(25,"div",7),u.Pb(26,"label",13),u.Ec(27),u.ec(28,"translate"),u.Ob(),u.Lb(29,"input",14),u.ec(30,"async"),u.Cc(31,Ce,3,4,"div",15),u.ec(32,"async"),u.Pb(33,"small",16),u.Ec(34),u.ec(35,"translate"),u.Ob(),u.Ob(),u.Pb(36,"div",17),u.Pb(37,"button",18),u.bc("click",(function(){return u.uc(n),u.dc(2).cancel()})),u.ec(38,"async"),u.Ec(39),u.ec(40,"translate"),u.Ob(),u.Pb(41,"button",19),u.ec(42,"async"),u.Ec(43),u.ec(44,"translate"),u.Cc(45,Ee,3,0,"div",20),u.ec(46,"async"),u.Ob(),u.Ob(),u.Ob()}if(2&e){var r=u.dc().erzLet,i=u.dc();u.jc("formGroup",r.formGroup),u.xb(2),u.Fc(u.fc(3,20,"my-profile.edit.address-changes-remark")),u.xb(4),u.Fc(r.student.AddressLine1),u.xb(1),u.jc("ngIf",r.student.AddressLine2),u.xb(2),u.Hc("",r.student.Zip||""," ",r.student.Location,""),u.xb(1),u.jc("ngForOf",u.fc(11,22,i.formErrors$)),u.xb(4),u.Gc(" ",u.fc(15,24,"my-profile.edit.fields.phone-private")," "),u.xb(5),u.Gc(" ",u.fc(20,26,"my-profile.edit.fields.phone-mobile")," "),u.xb(4),u.Fc(u.fc(24,28,"my-profile.edit.fields.phone-mobile-hint")),u.xb(4),u.Gc(" ",u.fc(28,30,"my-profile.edit.fields.email2")," "),u.xb(2),u.Cb("is-invalid",u.fc(30,32,i.email2Errors$).length>0),u.xb(2),u.jc("ngForOf",u.fc(32,34,i.email2Errors$)),u.xb(3),u.Fc(u.fc(35,36,"my-profile.edit.fields.email2-hint")),u.xb(3),u.jc("disabled",u.fc(38,38,i.saving$)),u.xb(2),u.Gc(" ",u.fc(40,40,"my-profile.edit.cancel")," "),u.xb(2),u.jc("disabled",u.fc(42,42,i.saving$)),u.xb(2),u.Gc(" ",u.fc(44,44,"my-profile.edit.save")," "),u.xb(2),u.jc("ngIf",u.fc(46,46,i.saving$))}}function Le(e,t){if(1&e&&(u.Pb(0,"div",1),u.Cc(1,we,47,48,"form",2),u.Ob()),2&e){var n=t.erzLet;u.xb(1),u.jc("ngIf",n.formGroup)}}var ke,$e,Se,Ge=function(e,t){return{formGroup:e,student:t}},Fe=[{path:"",component:g,children:[{path:"",component:ge},{path:"edit",component:(ke=function(){function e(t,r,i,c,a,o){n(this,e),this.fb=t,this.router=r,this.toastr=i,this.translate=c,this.profileService=a,this.personsService=o,this.student$=this.profileService.profile$.pipe(Object(ye.a)("student")),this.formGroup$=this.student$.pipe(Object(P.a)(this.createFormGroup.bind(this)),Object(p.a)(1)),this.saving$=new f.a(!1),this.submitted$=new f.a(!1),this.email2Errors$=Object(xe.c)(this.formGroup$,this.submitted$,"email2")}return i(e,[{key:"ngOnInit",value:function(){}},{key:"cancel",value:function(){this.navigateBack()}},{key:"onSubmit",value:function(){var e=this;this.submitted$.next(!0),this.formGroup$.pipe(Object(he.a)(1)).subscribe((function(t){if(t.valid){var n=t.value,r=n.phonePrivate,i=n.phoneMobile,c=n.email2;e.save((null==r?void 0:r.trim())||null,(null==i?void 0:i.trim())||null,c||null)}}))}},{key:"createFormGroup",value:function(e){return this.fb.group({phonePrivate:[e.PhonePrivate],phoneMobile:[e.PhoneMobile],email2:[e.Email2,ve.p.email]})}},{key:"save",value:function(e,t,n){var r=this;this.saving$.next(!0),this.student$.pipe(Object(he.a)(1),Object(d.a)((function(i){return r.personsService.update(i.Id,e,t,n)})),Object(Oe.a)((function(){return r.saving$.next(!1)}))).subscribe(this.onSaveSuccess.bind(this))}},{key:"onSaveSuccess",value:function(){this.profileService.reset(),this.toastr.success(this.translate.instant("my-profile.edit.save-success")),this.navigateBack()}},{key:"navigateBack",value:function(){this.router.navigate(["/my-profile"])}}]),e}(),ke.\u0275fac=function(e){return new(e||ke)(u.Kb(ve.b),u.Kb(s.e),u.Kb(ze.b),u.Kb(F.d),u.Kb(m),u.Kb(Pe.a))},ke.\u0275cmp=u.Eb({type:ke,selectors:[["erz-my-profile-edit"]],decls:3,vars:8,consts:[["class","erz-container erz-container-limited erz-container-padding-y",4,"erzLet"],[1,"erz-container","erz-container-limited","erz-container-padding-y"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"text-muted"],[4,"ngIf"],["class","alert alert-danger",4,"ngFor","ngForOf"],[1,"form-group"],["id","my-profile-phone-private"],["id","my-profile-phone-private","formControlName","phonePrivate","type","tel",1,"form-control"],["id","my-profile-phone-mobile"],["id","my-profile-phone-mobile","formControlName","phoneMobile","type","tel","aria-describedby","my-profile-phone-mobile-hint",1,"form-control"],["id","my-profile-phone-mobile-hint",1,"form-text","text-muted"],["id","my-profile-email2"],["id","my-profile-email2","formControlName","email2","type","email","aria-describedby","my-profile-email2-hint",1,"form-control"],["class","invalid-feedback",4,"ngFor","ngForOf"],["id","my-profile-email2-hint",1,"form-text","text-muted"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["type","submit",1,"btn","btn-primary","ml-2",3,"disabled"],["class","spinner-border spinner-border-sm align-middle","role","status",4,"ngIf"],[1,"alert","alert-danger"],[1,"invalid-feedback"],["role","status",1,"spinner-border","spinner-border-sm","align-middle"],[1,"sr-only"]],template:function(e,t){1&e&&(u.Cc(0,Le,2,1,"div",0),u.ec(1,"async"),u.ec(2,"async")),2&e&&u.jc("erzLet",u.oc(5,Ge,u.fc(1,1,t.formGroup$),u.fc(2,3,t.student$)))},directives:[v.a,y.m,ve.r,ve.i,ve.d,y.l,ve.a,ve.h,ve.c],pipes:[y.b,F.c],styles:[""],changeDetection:0}),ke)}]}],Me=((Se=function e(){n(this,e)}).\u0275mod=u.Ib({type:Se}),Se.\u0275inj=u.Hb({factory:function(e){return new(e||Se)},imports:[[s.h.forChild(Fe)],s.h]}),Se),Ae=(($e=function e(){n(this,e)}).\u0275mod=u.Ib({type:$e}),$e.\u0275inj=u.Hb({factory:function(e){return new(e||$e)},providers:[],imports:[[l.a,Me]]}),$e)}}])}();