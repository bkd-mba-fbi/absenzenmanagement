(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{sN2L:function(e,t,n){"use strict";n.r(t),n.d(t,"OpenAbsencesModule",(function(){return Y}));var c=n("PCNd"),s=n("tyNb"),r=n("2Vo4"),i=n("XNiG"),o=n("VRyK"),a=n("itXk"),l=n("UXun"),d=n("lJxs"),b=n("IzEk"),g=n("CCnw"),m=n("CqUA"),u=n("eB9A"),p=n("jiSq"),h=n("j9z6"),f=n("5QKP"),O=n("fXoL");let P=(()=>{class e{constructor(e,t,n){this.lessonPresencesService=e,this.selectionService=t,this.loadingService=n,this.loading$=this.loadingService.loading$,this.search$=new r.a(""),this.updateUnconfirmedAbsences$=new i.a,this.unconfirmedAbsences$=Object(o.a)(this.loadUnconfirmedAbsences(),this.updateUnconfirmedAbsences$).pipe(Object(l.a)(1)),this.entries$=this.unconfirmedAbsences$.pipe(Object(d.a)(h.a),Object(l.a)(1)),this.sortCriteriaSubject$=new r.a({primarySortKey:"date",ascending:!1}),this.sortCriteria$=this.sortCriteriaSubject$.asObservable(),this.sortedEntries$=Object(a.a)([this.entries$,this.sortCriteria$]).pipe(Object(d.a)(Object(u.a)(h.e))),this.filteredEntries$=Object(a.a)([this.sortedEntries$,this.search$]).pipe(Object(d.a)(Object(u.a)(p.a)),Object(l.a)(1)),this.currentDetail=null}getUnconfirmedAbsences(e,t){return this.entries$.pipe(Object(d.a)(n=>{const c=n.find(n=>n.dateString===e&&n.studentId===t);return c?c.absences:[]}))}toggleSort(e){this.sortCriteriaSubject$.pipe(Object(b.a)(1)).subscribe(t=>{this.sortCriteriaSubject$.next(t.primarySortKey===e?{primarySortKey:e,ascending:!t.ascending}:{primarySortKey:e,ascending:"name"===e})})}get confirmBackLink(){return this.currentDetail?["/open-absences/detail",this.currentDetail.personId,this.currentDetail.date]:["/open-absences"]}updateAfterConfirm(){Object(a.a)([this.unconfirmedAbsences$.pipe(Object(b.a)(1)),this.selectionService.selectedIds$.pipe(Object(b.a)(1))]).pipe(Object(d.a)(Object(u.a)(h.d))).subscribe(e=>{this.selectionService.clear(),this.updateUnconfirmedAbsences$.next(e)})}loadUnconfirmedAbsences(){return this.loadingService.load(this.lessonPresencesService.getListOfUnconfirmed())}}return e.\u0275fac=function(t){return new(t||e)(O.Xb(g.a),O.Xb(f.a),O.Xb(m.a))},e.\u0275prov=O.Gb({token:e,factory:e.\u0275fac}),e})();var y=n("qUtt");let C=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=O.Eb({type:e,selectors:[["erz-open-absences"]],features:[O.wb([P,{provide:y.a,useExisting:P}])],decls:1,vars:0,template:function(e,t){1&e&&O.Lb(0,"router-outlet")},directives:[s.i],styles:[""],changeDetection:0}),e})();var v=n("yl8S"),k=n("EOpz"),x=n("ofXK"),M=n("4Kj8"),w=n("sYmb"),_=n("73sZ");function S(e,t){if(1&e){const e=O.Qb();O.Pb(0,"div",17),O.bc("click",(function(){O.uc(e);const n=t.$implicit;return O.dc(4).openAbsencesService.toggleSort(n)})),O.Ec(1),O.ec(2,"translate"),O.Pb(3,"span",18),O.Ec(4),O.Ob(),O.Ob()}if(2&e){const e=t.$implicit,n=O.dc(3).erzLet,c=O.dc();O.jc("className",e),O.xb(1),O.Gc(" ",O.fc(2,3,"open-absences.list.header."+e)," "),O.xb(3),O.Fc(c.getSortDirectionCharacter(n.sortCriteria,e))}}const j=function(e,t){return["detail",e,t]},$=function(e){return{count:e}};function E(e,t){if(1&e){const e=O.Qb();O.Pb(0,"div"),O.Pb(1,"div",19),O.Pb(2,"div",20),O.bc("click",(function(t){O.uc(e);const n=O.tc(4);return O.dc(4).onCheckboxCellClick(t,n)})),O.Pb(3,"input",21,22),O.bc("change",(function(){O.uc(e);const n=t.$implicit;return O.dc(4).selectionService.toggle(n)})),O.ec(5,"async"),O.Ob(),O.Ob(),O.Pb(6,"div",23),O.Pb(7,"a",24),O.Ec(8),O.Ob(),O.Ob(),O.Pb(9,"div",25),O.Ec(10),O.Ob(),O.Pb(11,"div",26),O.Ec(12),O.ec(13,"translate"),O.Ob(),O.Pb(14,"div",27),O.Ec(15),O.ec(16,"translate"),O.Ob(),O.Pb(17,"div",28),O.Ec(18),O.ec(19,"erzDaysDifference"),O.Ob(),O.Pb(20,"div",29),O.Ec(21),O.ec(22,"date"),O.Ob(),O.Ob(),O.Ob()}if(2&e){const e=t.$implicit,n=O.dc(4);O.xb(3),O.jc("checked",O.fc(5,9,n.selectionService.isSelected$(e))),O.xb(4),O.jc("routerLink",O.oc(22,j,e.studentId,e.dateString)),O.xb(1),O.Fc(e.studentFullName),O.xb(2),O.Gc(" ",e.studyClassNumber," "),O.xb(2),O.Gc(" ",O.gc(13,11,n.getLessonsCountKey(e),O.nc(25,$,e.lessonsCount))," "),O.xb(3),O.Hc(" ",e.studyClassNumber,", ",O.gc(16,14,n.getLessonsCountKey(e),O.nc(27,$,e.lessonsCount))," "),O.xb(3),O.Gc(" ",O.fc(19,17,e.date)," "),O.xb(3),O.Fc(O.gc(22,19,e.date,"dd.MM.yyyy"))}}const A=function(){return["name","date"]};function L(e,t){if(1&e){const e=O.Qb();O.Nb(0),O.Pb(1,"div",4),O.Pb(2,"div",5),O.Pb(3,"div",6),O.Pb(4,"span",7),O.Pb(5,"i",8),O.Ec(6,"search"),O.Ob(),O.Ob(),O.Ob(),O.Pb(7,"input",9),O.bc("keyup",(function(t){return O.uc(e),O.dc(3).openAbsencesService.search$.next(t.target.value)})),O.ec(8,"translate"),O.ec(9,"translate"),O.Ob(),O.Ob(),O.Pb(10,"div",10),O.Pb(11,"div",11),O.Ec(12),O.ec(13,"translate"),O.Ob(),O.Pb(14,"a",12),O.Pb(15,"i",8),O.Ec(16,"edit"),O.Ob(),O.Ob(),O.Ob(),O.Ob(),O.Pb(17,"div",13),O.Pb(18,"div",14),O.Cc(19,S,5,5,"div",15),O.Ob(),O.Cc(20,E,23,29,"div",16),O.Ob(),O.Mb()}if(2&e){const e=O.dc(2).erzLet;O.xb(7),O.yb("placeholder",O.fc(8,7,"open-absences.search-by-name-or-class"))("aria-label",O.fc(9,9,"open-absences.search")),O.xb(5),O.Gc(" ",O.gc(13,11,"open-absences.selected",O.nc(14,$,e.selection.length))," "),O.xb(2),O.Cb("disabled",0===e.selection.length),O.xb(5),O.jc("ngForOf",O.mc(16,A)),O.xb(1),O.jc("ngForOf",e.entries)}}function I(e,t){1&e&&(O.Pb(0,"p",30),O.Ec(1),O.ec(2,"translate"),O.Ob()),2&e&&(O.xb(1),O.Fc(O.fc(2,1,"open-absences.noEntries")))}function F(e,t){if(1&e&&(O.Nb(0),O.Cc(1,L,21,17,"ng-container",1),O.ec(2,"async"),O.Cc(3,I,3,3,"ng-template",null,3,O.Dc),O.Mb()),2&e){const e=O.tc(4),t=O.dc().erzLet,c=O.dc();var n;O.xb(1),O.jc("ngIf",(null==(n=O.fc(2,2,c.openAbsencesService.sortedEntries$))?null:n.length)>0||(null==t.entries?null:t.entries.length)>0)("ngIfElse",e)}}function D(e,t){1&e&&O.Lb(0,"erz-spinner")}function z(e,t){if(1&e&&(O.Pb(0,"div"),O.Cc(1,F,5,4,"ng-container",1),O.ec(2,"async"),O.Cc(3,D,1,0,"ng-template",null,2,O.Dc),O.Ob()),2&e){const e=O.tc(4),t=O.dc();O.xb(1),O.jc("ngIf",!O.fc(2,2,t.openAbsencesService.loading$))("ngIfElse",e)}}const K=function(e,t,n){return{selection:e,entries:t,sortCriteria:n}};let N=(()=>{class e{constructor(e,t,n){this.openAbsencesService=e,this.selectionService=t,this.scrollPosition=n,this.destroy$=new i.a}ngOnInit(){this.openAbsencesService.currentDetail=null,this.selectionService.clearNonOpenAbsencesEntries()}ngAfterViewInit(){this.scrollPosition.restore()}ngOnDestroy(){this.destroy$.next()}onCheckboxCellClick(e,t){e.target!==t&&t.click()}getSortDirectionCharacter(e,t){return e.primarySortKey!==t?"":e.ascending?"\u2193":"\u2191"}getLessonsCountKey(e){return"open-absences.list.content.lessonsCount."+(1===e.lessonsCount?"singular":"plural")}}return e.\u0275fac=function(t){return new(t||e)(O.Kb(P),O.Kb(f.a),O.Kb(v.a))},e.\u0275cmp=O.Eb({type:e,selectors:[["erz-open-absences-list"]],decls:4,vars:11,consts:[[4,"erzLet"],[4,"ngIf","ngIfElse"],["loading",""],["noEntries",""],[1,"pt-3","pl-3","pr-3"],[1,"header-search","input-group"],[1,"input-group-prepend"],["id","search-addon",1,"input-group-text"],[1,"material-icons"],["type","text","aria-describedby","search-addon",1,"form-control",3,"keyup"],[1,"d-flex","align-items-center","justify-content-between","mt-1"],[1,"selection-count","pl-1"],["routerLink","/open-absences/confirm",1,"edit","btn","btn-primary","mt-1","mb-2"],[1,"content"],[1,"absence-header"],[3,"className","click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"className","click"],[1,"sort-direction"],[1,"absence-entry"],[1,"checkbox",3,"click"],["type","checkbox",1,"form-check-input",3,"checked","change"],["checkbox",""],[1,"name","pr-2"],[3,"routerLink"],[1,"study-class"],[1,"lessons-count"],[1,"study-class-lessons-count"],[1,"days-ago"],[1,"date"],[1,"mt-3"]],template:function(e,t){1&e&&(O.Cc(0,z,5,4,"div",0),O.ec(1,"async"),O.ec(2,"async"),O.ec(3,"async")),2&e&&O.jc("erzLet",O.pc(7,K,O.fc(1,1,t.selectionService.selection$),O.fc(2,3,t.openAbsencesService.filteredEntries$),O.fc(3,5,t.openAbsencesService.sortCriteria$)))},directives:[k.a,x.m,s.g,x.l,M.a],pipes:[x.b,w.c,_.a,x.e],styles:['.content[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.header-search[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{max-width:500px}.edit[_ngcontent-%COMP%]{line-height:1;font-size:2.2rem}.absence-header[_ngcontent-%COMP%]{cursor:pointer;grid-template-areas:"name date";-ms-grid-columns:5fr 1fr;grid-template-columns:5fr 1fr;border-top:1px solid #dee2e6;border-bottom:2px solid #dee2e6}.absence-entry[_ngcontent-%COMP%], .absence-header[_ngcontent-%COMP%]{padding:1.5rem;display:-ms-grid;display:grid}.absence-entry[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;grid-template-areas:"checkbox name study-class lessons-count days-ago date";-ms-grid-columns:-webkit-min-content 2fr 1fr 1fr 1fr 1fr;-ms-grid-columns:min-content 2fr 1fr 1fr 1fr 1fr;grid-template-columns:-webkit-min-content 2fr 1fr 1fr 1fr 1fr;grid-template-columns:min-content 2fr 1fr 1fr 1fr 1fr}.checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:1;grid-area:checkbox;margin:0;padding:.6rem .75rem 0 0}.absence-all[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding-top:.2rem}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:1;grid-area:name;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.absence-entry[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2}.name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#33333d}.lessons-count[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:4;grid-area:lessons-count}.study-class[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:3;grid-area:study-class}.study-class-lessons-count[_ngcontent-%COMP%]{grid-area:study-class-lessons-count;display:none}.days-ago[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:5;color:#6c757d;grid-area:days-ago}.date[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2;grid-area:date}.absence-entry[_ngcontent-%COMP%] > .date[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:6}@media (max-width:750px){.content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.absence-header[_ngcontent-%COMP%]{grid-template-areas:"name date";-ms-grid-columns:3fr 2fr;grid-template-columns:3fr 2fr}.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox name date" "checkbox study-class-lessons-count days-ago";-ms-grid-columns:-webkit-min-content 3fr 2fr;-ms-grid-columns:min-content 3fr 2fr;grid-template-columns:-webkit-min-content 3fr 2fr;grid-template-columns:min-content 3fr 2fr}.study-class-lessons-count[_ngcontent-%COMP%]{display:block}.lessons-count[_ngcontent-%COMP%], .study-class[_ngcontent-%COMP%]{display:none}.days-ago[_ngcontent-%COMP%], .study-class-lessons-count[_ngcontent-%COMP%]{font-size:1.3125rem;color:#adb5bd}.checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2}.checkbox[_ngcontent-%COMP%], .name[_ngcontent-%COMP%]{-ms-grid-column:1}.name[_ngcontent-%COMP%]{-ms-grid-row:1}.absence-entry[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2}.study-class-lessons-count[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-column:2}.days-ago[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-column:3}.date[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2}.absence-entry[_ngcontent-%COMP%] > .date[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:3}}'],changeDetection:0}),e})();var T=n("eIep"),R=n("1G5W"),H=n("pLZG"),G=n("K+0v"),X=n("OvQW"),U=n("KJh6");const Q=function(){return["/open-absences"]};function q(e,t){if(1&e&&(O.Pb(0,"div",8),O.Pb(1,"button",9),O.Pb(2,"div",10),O.Pb(3,"i",11),O.Ec(4,"navigate_before"),O.Ob(),O.Pb(5,"span",12),O.Ec(6),O.ec(7,"async"),O.Ob(),O.Ob(),O.Ob(),O.Pb(8,"a",13),O.Pb(9,"i",11),O.Ec(10,"edit"),O.Ob(),O.Ob(),O.Ob()),2&e){const e=t.erzLet,n=O.dc();O.xb(1),O.jc("routerLink",O.mc(6,Q)),O.xb(5),O.Fc(O.fc(7,4,n.studentFullName$)),O.xb(2),O.Cb("disabled",0===e.length)}}function J(e,t){if(1&e&&(O.Pb(0,"div",25),O.Ec(1),O.Ob()),2&e){const e=O.dc().erzLet;O.xb(1),O.Gc(" ",e," ")}}function V(e,t){if(1&e&&(O.Nb(0),O.Cc(1,J,2,1,"div",24),O.Mb()),2&e){const e=t.erzLet;O.xb(1),O.jc("ngIf",e)}}function Z(e,t){if(1&e){const e=O.Qb();O.Pb(0,"div",14),O.bc("click",(function(t){O.uc(e);const n=O.tc(3);return O.dc().onRowClick(t,n)})),O.Pb(1,"div",15),O.Pb(2,"input",16,17),O.bc("change",(function(){O.uc(e);const n=t.$implicit;return O.dc().selectionService.toggle(n)})),O.ec(4,"async"),O.Ob(),O.Ob(),O.Pb(5,"div",18),O.Ec(6),O.Ob(),O.Pb(7,"div",19),O.Ec(8),O.ec(9,"date"),O.ec(10,"date"),O.Ob(),O.Pb(11,"div",20),O.Ec(12),O.Ob(),O.Pb(13,"div",21),O.Ec(14),O.ec(15,"date"),O.ec(16,"date"),O.Ob(),O.Pb(17,"div",22),O.Ec(18),O.ec(19,"date"),O.ec(20,"date"),O.Ob(),O.Cc(21,V,2,1,"ng-container",23),O.ec(22,"async"),O.Ob()}if(2&e){const e=t.$implicit,n=O.dc();O.xb(2),O.jc("checked",O.fc(4,12,n.selectionService.isSelected$(e))),O.xb(4),O.Hc(" ",e.EventDesignation,", ",e.StudyClassNumber," "),O.xb(2),O.Hc(" ",O.gc(9,14,e.LessonDateTimeFrom,"HH:mm"),"\u2013",O.gc(10,17,e.LessonDateTimeTo,"HH:mm")," "),O.xb(4),O.Gc(" ",e.TeacherInformation," "),O.xb(2),O.Hc(" ",O.gc(15,20,e.LessonDateTimeFrom,"HH:mm"),"\u2013",O.gc(16,23,e.LessonDateTimeTo,"HH:mm")," "),O.xb(4),O.Ic(" ",O.gc(19,26,e.LessonDateTimeFrom,"HH:mm"),"\u2013",O.gc(20,29,e.LessonDateTimeTo,"HH:mm"),", ",e.TeacherInformation," "),O.xb(3),O.jc("erzLet",O.fc(22,32,n.getPresenceTypeDesignation(e)))}}const B=[{path:"",component:C,children:[{path:"",component:N,data:{restoreScrollPositionFrom:["/open-absences/detail/:personId/:date","/open-absences/confirm"]}},{path:"detail/:personId/:date",component:(()=>{class e{constructor(e,t,n,c,s,r){this.router=e,this.route=t,this.openAbsencesService=n,this.presenceTypesService=c,this.selectionService=s,this.scrollPosition=r,this.absences$=this.route.paramMap.pipe(Object(T.a)(this.getAbsencesForParams.bind(this))),this.hasAbsences$=this.absences$.pipe(Object(d.a)(Object(G.c)(1))),this.studentFullName$=this.absences$.pipe(Object(d.a)(e=>e[0]&&e[0].StudentFullName||null)),this.allSelected$=Object(a.a)([this.absences$,this.selectionService.selection$]).pipe(Object(d.a)(([e,t])=>e.length===t.length)),this.destroy$=new i.a}ngOnInit(){this.selectionService.clearNonLessonPresences(),this.route.paramMap.pipe(Object(R.a)(this.destroy$)).subscribe(e=>this.openAbsencesService.currentDetail={date:String(e.get("date")),personId:Number(e.get("personId"))}),this.hasAbsences$.pipe(Object(R.a)(this.destroy$),Object(H.a)(Object(X.not)(G.b))).subscribe(()=>this.router.navigate(["/open-absences"]))}ngAfterViewInit(){this.scrollPosition.restore()}ngOnDestroy(){this.destroy$.next()}toggleAll(e){e?this.absences$.pipe(Object(b.a)(1)).subscribe(e=>this.selectionService.clear(e)):this.selectionService.clear()}onRowClick(e,t){e.target!==t&&t.click()}getPresenceTypeDesignation(e){return this.presenceTypesService.displayedTypes$.pipe(Object(d.a)(t=>{var n;return e.TypeRef.Id&&(null===(n=t.find(t=>t.Id===e.TypeRef.Id))||void 0===n?void 0:n.Designation)||null}))}getAbsencesForParams(e){return this.openAbsencesService.getUnconfirmedAbsences(String(e.get("date")),Number(e.get("personId")))}}return e.\u0275fac=function(t){return new(t||e)(O.Kb(s.e),O.Kb(s.a),O.Kb(P),O.Kb(U.a),O.Kb(f.a),O.Kb(v.a))},e.\u0275cmp=O.Eb({type:e,selectors:[["erz-open-absences-detail"]],decls:13,vars:12,consts:[["class","d-flex align-items-center justify-content-between",4,"erzLet"],[1,"content"],[1,"absence-all"],[1,"checkbox",3,"click"],["id","all-checkbox","type","checkbox",1,"form-check-input",3,"checked","change"],["allCheckbox",""],["for","all-checkbox",1,"all"],["class","absence-entry",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between"],["type","button",1,"back","btn","btn-link","p-3",3,"routerLink"],[1,"d-flex","align-items-center"],[1,"material-icons"],[1,"ml-3"],["routerLink","/open-absences/confirm",1,"edit","btn","btn-primary","mt-1","mb-2","mr-3"],[1,"absence-entry",3,"click"],[1,"checkbox"],["type","checkbox",1,"form-check-input",3,"checked","change"],["checkbox",""],[1,"lesson-class"],[1,"time","pr-2"],[1,"teacher"],[1,"time"],[1,"time-teacher"],[4,"erzLet"],["class","presence-type",4,"ngIf"],[1,"presence-type"]],template:function(e,t){if(1&e){const e=O.Qb();O.Cc(0,q,11,7,"div",0),O.ec(1,"async"),O.Pb(2,"div",1),O.Pb(3,"div",2),O.Pb(4,"div",3),O.bc("click",(function(n){O.uc(e);const c=O.tc(6);return t.onRowClick(n,c)})),O.Pb(5,"input",4,5),O.bc("change",(function(e){return t.toggleAll(e.target.checked)})),O.ec(7,"async"),O.Ob(),O.Ob(),O.Pb(8,"label",6),O.Ec(9),O.ec(10,"translate"),O.Ob(),O.Ob(),O.Cc(11,Z,23,34,"div",7),O.ec(12,"async"),O.Ob()}2&e&&(O.jc("erzLet",O.fc(1,4,t.selectionService.selection$)),O.xb(5),O.jc("checked",O.fc(7,6,t.allSelected$)),O.xb(4),O.Fc(O.fc(10,8,"open-absences.detail.all")),O.xb(2),O.jc("ngForOf",O.fc(12,10,t.absences$)))},directives:[k.a,x.l,s.f,s.g,x.m],pipes:[x.b,w.c,x.e],styles:['.content[_ngcontent-%COMP%]{padding-left:1.5rem;padding-right:1.5rem}.back[_ngcontent-%COMP%]{color:#33333d;text-decoration:none}.back[_ngcontent-%COMP%]:active   span[_ngcontent-%COMP%], .back[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{text-decoration:underline}.edit[_ngcontent-%COMP%]{line-height:1;font-size:2.2rem}.absence-all[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e9ecef;display:-ms-grid;display:grid;grid-template-areas:"checkbox all";-ms-grid-columns:-webkit-min-content 1fr;-ms-grid-columns:min-content 1fr;grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}.absence-all[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{-ms-grid-row-align:center;align-self:center}.absence-entry[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e9ecef;display:-ms-grid;display:grid;grid-template-areas:"checkbox lesson-class time teacher" "checkbox presence-type presence-type presence-type";-ms-grid-columns:-webkit-min-content 3fr 1fr 1fr;-ms-grid-columns:min-content 3fr 1fr 1fr;grid-template-columns:-webkit-min-content 3fr 1fr 1fr;grid-template-columns:min-content 3fr 1fr 1fr}.checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:1;grid-area:checkbox;margin:0;padding:.6rem .75rem 0 0}.absence-entry[_ngcontent-%COMP%] > .checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:2;-ms-grid-column:1}.absence-all[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{padding-top:.2rem}.checkbox[_ngcontent-%COMP%]   input.form-check-input[_ngcontent-%COMP%]{position:static!important;margin:0!important;display:block}.all[_ngcontent-%COMP%]{grid-area:all}.all[_ngcontent-%COMP%], .lesson-class[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2}.lesson-class[_ngcontent-%COMP%]{grid-area:lesson-class;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.time[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:3;grid-area:time}.teacher[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:4;grid-area:teacher}.time-teacher[_ngcontent-%COMP%]{grid-area:time-teacher;display:none}.presence-type[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-column:2;-ms-grid-column-span:3;color:#adb5bd;grid-area:presence-type}@media (max-width:750px){.content[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.absence-all[_ngcontent-%COMP%]{grid-template-areas:"checkbox all";-ms-grid-columns:-webkit-min-content 1fr;-ms-grid-columns:min-content 1fr;grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}.absence-entry[_ngcontent-%COMP%]{grid-template-areas:"checkbox lesson-class" "checkbox time-teacher" "checkbox presence-type";-ms-grid-columns:-webkit-min-content 1fr;-ms-grid-columns:min-content 1fr;grid-template-columns:-webkit-min-content 1fr;grid-template-columns:min-content 1fr}.time-teacher[_ngcontent-%COMP%]{display:block}.teacher[_ngcontent-%COMP%], .time[_ngcontent-%COMP%]{display:none}.checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:1;-ms-grid-column:1}.absence-entry[_ngcontent-%COMP%] > .checkbox[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-row-span:3;-ms-grid-column:1}.all[_ngcontent-%COMP%], .lesson-class[_ngcontent-%COMP%]{-ms-grid-row:1;-ms-grid-column:2}.time-teacher[_ngcontent-%COMP%]{-ms-grid-row:2;-ms-grid-column:2}.presence-type[_ngcontent-%COMP%]{-ms-grid-row:3;-ms-grid-column:2;-ms-grid-column-span:1}}'],changeDetection:0}),e})(),data:{restoreScrollPositionFrom:["/open-absences/confirm"]}},{path:"confirm",component:n("hH5/").a}]}];let W=(()=>{class e{}return e.\u0275mod=O.Ib({type:e}),e.\u0275inj=O.Hb({factory:function(t){return new(t||e)},imports:[[s.h.forChild(B)],s.h]}),e})(),Y=(()=>{class e{}return e.\u0275mod=O.Ib({type:e}),e.\u0275inj=O.Hb({factory:function(t){return new(t||e)},imports:[[c.a,W]]}),e})()},yl8S:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var c=n("tyNb"),s=n("XNiG"),r=n("LRne"),i=n("pLZG"),o=n("lJxs"),a=n("IzEk"),l=n("5+tZ"),d=n("eIep"),b=n("Y6wi"),g=n("UXun"),m=n("1G5W"),u=n("7o/Q");class p{constructor(e){this.total=e}call(e,t){return t.subscribe(new h(e,this.total))}}class h extends u.a{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}var f=n("fXoL"),O=n("ofXK");let P=(()=>{class e{constructor(e,t){this.router=e,this.viewportScroller=t,this.scrollPositions={},this.previousRoute=null,this.currentRoute=null,this.currentScrollPosition=[0,0],this.destroy$=new s.a,this.scrollPosition$=this.router.events.pipe(Object(i.a)(C),Object(o.a)(this.getScrollPosition.bind(this))),this.activationEnd$=this.router.events.pipe(Object(i.a)(y)),this.navigationEnd$=this.router.events.pipe(Object(i.a)(v)),this.route$=this.activationEnd$.pipe(Object(a.a)(1)).pipe(Object(l.a)(e=>[Object(r.a)(e),this.navigationEnd$.pipe(Object(d.a)(()=>this.activationEnd$.pipe(Object(a.a)(1))))]),Object(b.a)(),Object(o.a)(e=>e.snapshot),Object(g.a)(1)),this.scrollPosition$.pipe(Object(m.a)(this.destroy$)).subscribe(e=>this.currentScrollPosition=e),this.route$.pipe(Object(m.a)(this.destroy$)).subscribe(e=>{this.previousRoute=this.currentRoute,this.currentRoute=e})}ngOnDestroy(){this.destroy$.next()}restore(){if(!this.currentRoute||!this.requiresStoring(this.currentRoute))return;if(this.previousRoute&&this.shouldStoreFor(this.currentRoute,this.previousRoute)){const e=this.getPath(this.currentRoute);this.scrollToPosition(this.scrollPositions[e]||[0,0])}const e=this.currentRoute;this.route$.pipe(e=>e.lift(new p(1)),Object(a.a)(1),Object(m.a)(this.destroy$),Object(i.a)(t=>this.shouldStoreFor(e,t))).subscribe(()=>{const t=this.getPath(e);this.scrollPositions[t]=this.currentScrollPosition})}getScrollPosition(){return this.viewportScroller.getScrollPosition()}scrollToPosition(e){this.viewportScroller.scrollToPosition(e)}getPath(e){return e?"/"+e.pathFromRoot.map(e=>e.routeConfig&&e.routeConfig.path).filter(e=>e).join("/"):"/"}requiresStoring(e){return Boolean(e&&e.routeConfig&&e.routeConfig.data&&Array.isArray(e.routeConfig.data.restoreScrollPositionFrom)&&e.routeConfig.data.restoreScrollPositionFrom.length>0)}shouldStoreFor(e,t){return(e&&e.routeConfig&&e.routeConfig.data&&Array.isArray(e.routeConfig.data.restoreScrollPositionFrom)?e.routeConfig.data.restoreScrollPositionFrom:[]).includes(this.getPath(t))}}return e.\u0275fac=function(t){return new(t||e)(f.Xb(c.e),f.Xb(O.t))},e.\u0275prov=f.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(e){return e instanceof c.b}function C(e){return e instanceof c.d}function v(e){return e instanceof c.c}}}]);