<div
  class="erz-container erz-container-padding-y erz-container-padding-x-responsive"
>
  <ng-container
    *erzLet="{
      profile: profile$ | async
    } as data"
  >
    <ng-container *ngIf="!(profileService.loading$ | async); else loading">
      <div class="profile-content" *ngIf="data.profile; else noProfile">
        <erz-my-profile-entry
          label="my-profile.social-security-number"
          value="{{ data.profile.student.SocialSecurityNumber }}"
        >
        </erz-my-profile-entry>

        <erz-my-profile-entry
          label="my-profile.hometown-nationality"
          value="{{
            data.profile.student.HomeTown || data.profile.student.Nationality
          }}"
        >
        </erz-my-profile-entry>

        <erz-my-profile-entry
          label="my-profile.native-language"
          value="{{ data.profile.student.NativeLanguage }}"
        >
        </erz-my-profile-entry>

        <erz-my-profile-entry
          label="my-profile.stay-permit"
          value="{{ data.profile.student.StayPermit }}"
        >
        </erz-my-profile-entry>

        <erz-my-profile-entry
          label="my-profile.stay-permit-expiry"
          value="{{ data.profile.student.StayPermitExpiry }}"
        >
        </erz-my-profile-entry>

        <ngb-accordion ngb-accordion #acc="ngbAccordion">
          <ngb-panel id="student-address">
            <ng-template ngbPanelHeader let-opened="opened">
              <erz-student-profile-entry-header
                [opened]="opened"
                (click)="acc.toggle('student-address')"
              >
                {{ 'shared.profile.student-address' | translate }}
              </erz-student-profile-entry-header>
            </ng-template>
            <ng-template ngbPanelContent>
              <erz-student-profile-address
                class="profile-entry"
                [student]="data.profile.student"
              ></erz-student-profile-address>
            </ng-template>
          </ngb-panel>
        </ngb-accordion>
      </div>

      <ng-template #noProfile>
        <p>{{ 'shared.profile.no-profile' | translate }}</p>
      </ng-template>
    </ng-container>

    <ng-template #loading>
      <erz-spinner></erz-spinner>
    </ng-template>
  </ng-container>
</div>
