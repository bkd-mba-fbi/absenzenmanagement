<table
  class="table"
  *erzLet="openAbsencesService.sortCriteria$ | async as sortCriteria"
>
  <thead>
    <tr>
      <th></th>
      <th
        *ngFor="let key of ['name', 'date']"
        (click)="openAbsencesService.toggleSort(key)"
      >
        {{ 'open-absences.list.header.' + key | translate }}
        <span class="sort-direction">{{
          getSortDirectionCharacter(sortCriteria, key)
        }}</span>
      </th>
    </tr>
  </thead>

  <tbody>
    <tr *ngFor="let entry of openAbsencesService.entries$ | async">
      <td (click)="onCheckboxCellClick($event, checkbox)">
        <input
          #checkbox
          type="checkbox"
          class="form-control"
          (change)="toggleEntry(entry, $event.target.checked)"
        />
      </td>
      <td>
        <a
          class="student-name"
          [routerLink]="['detail', entry.studentId, entry.dateString]"
          >{{ entry.studentFullName }}</a
        >
        <div class="lessons-count">
          {{
            getLessonsCountKey(entry) | translate: { count: entry.lessonsCount }
          }}
        </div>
      </td>
      <td>
        <div class="date">{{ entry.date | date: 'dd.MM.yyyy' }}</div>
        <div class="days-ago">
          {{ getDaysAgoKey(entry) | translate: { count: entry.daysAgo } }}
        </div>
      </td>
    </tr>
  </tbody>
</table>
