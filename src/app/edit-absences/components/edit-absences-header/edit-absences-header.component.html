<div class="filters mb-2">
  <div class="form-group">
    <label>{{ 'edit-absences.header.student' | translate }}</label>
    <erz-typeahead
      [typeaheadService]="studentsService"
      (selectId)="filter.student = $event"
    ></erz-typeahead>
  </div>

  <div class="form-group">
    <label>{{ 'edit-absences.header.module-instance' | translate }}</label>
    <erz-typeahead
      [typeaheadService]="moduleInstancesService"
      (selectId)="filter.moduleInstance = $event"
    ></erz-typeahead>
  </div>

  <div class="form-group">
    <label>{{ 'edit-absences.header.study-class' | translate }}</label>
    <erz-typeahead
      [typeaheadService]="studyClassService"
      (selectId)="filter.studyClass = $event"
    ></erz-typeahead>
  </div>

  <div class="form-group">
    <label>{{ 'edit-absences.header.date-from' | translate }}</label>
    <erz-date-select (valueChange)="filter.dateFrom = $event"></erz-date-select>
  </div>

  <div class="form-group">
    <label>{{ 'edit-absences.header.date-to' | translate }}</label>
    <erz-date-select (valueChange)="filter.dateTo = $event"></erz-date-select>
  </div>

  <div class="buttons">
    <button type="button" class="btn btn-primary" (click)="show()">
      {{ 'edit-absences.header.show' | translate }}
    </button>
  </div>
</div>

<ngb-accordion ngb-accordion #acc="ngbAccordion">
  <ngb-panel id="extended-filters">
    <ng-template ngbPanelHeader let-opened="opened">
      <div
        (click)="acc.toggle('extended-filters')"
        class="extended-filters-header d-flex align-items-center"
      >
        <div class="d-flex align-self-div-flex-end">
          {{ 'edit-absences.header.extended-filters' | translate }}
        </div>
        <button type="button" class="btn btn-link">
          <div class="d-flex align-self-flex-start">
            <i class="material-icons">{{
              opened ? 'keyboard_arrow_down' : 'keyboard_arrow_up'
            }}</i>
          </div>
        </button>
      </div>
    </ng-template>
    <ng-template ngbPanelContent>
      <div class="filters mt-2">
        <div class="form-group">
          <label>{{ 'edit-absences.header.presence-type' | translate }}</label>
          <erz-select
            [options]="presenceTypes$ | async"
            (valueChange)="filter.presenceType = $event"
          ></erz-select>
        </div>

        <div class="form-group">
          <label>{{
            'edit-absences.header.confirmation-state' | translate
          }}</label>
          <erz-select
            [options]="absenceConfirmationStates$ | async"
            (valueChange)="filter.confirmationState = $event"
          ></erz-select>
        </div>
      </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
